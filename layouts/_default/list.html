{{ define "main" }}
<div class="list-container h-feed">
    <nav class="back-nav">
        <a href="{{ "/" | relURL }}" class="back-link" rel="home">← Back to home</a>
    </nav>
    
    <header class="list-header">
        <h1 class="list-title p-name">{{ if .Title }}{{ .Title }}{{ else }}Posts{{ end }}</h1>
        <p class="list-description p-summary">Social media posts from {{ .Site.Title }}</p>
    </header>
    
    {{ $paginator := .Paginate (where .Site.Pages "Type" "post").ByDate.Reverse }}
    
    <div class="posts-feed">
        {{ range $paginator.Pages }}
        <article class="post-card h-entry">
            <a href="{{ .Permalink }}" class="u-url post-card-link">
                <time class="post-date dt-published" datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">{{ .Date.Format "Jan 2, 2006" }}</time>
                <h2 class="post-title p-name">{{ .Title }}</h2>
                {{ if .Summary }}
                <div class="post-excerpt p-summary">{{ .Summary | plainify | truncate 200 }}</div>
                {{ end }}
            </a>
            {{ partial "microblog_syndication.html" . }}
        </article>
        {{ end }}
    </div>
    
    {{ if gt $paginator.TotalPages 1 }}
    <nav class="pagination">
        {{ if $paginator.HasPrev }}
        <a href="{{ $paginator.Prev.URL }}" class="pagination-link pagination-prev">← Newer</a>
        {{ end }}
        
        <span class="pagination-info">Page {{ $paginator.PageNumber }} of {{ $paginator.TotalPages }}</span>
        
        {{ if $paginator.HasNext }}
        <a href="{{ $paginator.Next.URL }}" class="pagination-link pagination-next">Older →</a>
        {{ end }}
    </nav>
    {{ end }}
</div>
{{ end }}

